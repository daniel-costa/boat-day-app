<header>
	<span class="icon bd-arrow-left close-me"></span>
	<h1>BoatDay</h1>
	<span class="icon"></span>
</header>

<main>
	<div>
		<div class="swiper-container boatday-images">
			<div class="banner right">
				<label>$<%= self.getGuestPrice(price, self.getGuestRate(self.model.get('captain').get('host').get('type'))) %> per seat</label>
			</div>
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<div class="boatday-image" style="background-image:url(resources/placeholder-boatday.png)"></div>
				</div>
			</div>
			<div class="swiper-pagination"></div>
		</div>

		<div class="shortcuts">
			<a class="open-captain" data-id="<%= self.model.get('captain').id %>">
				<div class="host-picture small" style="background-image:url(<%= self.model.get('captain').get('profilePicture').url() %>)"></div>
				<span class="name">Host <strong><%= self.model.get('captain').get('displayName') %></strong></span>
				<% if( self.model.get('captain').get('rating') ) { %>
					<div class="rating rating-<%= Math.ceil(self.model.get('captain').get('rating')) %> bd-icons">
						<div class="with-empty bd-icons"></div>
					</div>
					<span class="amount-rating">(<%= self.model.get('captain').get('ratingAmount') %>)</span>
				<% } %>
			</a>
			<a class="open-boat">
				<div class="boat-picture small"></div>
				<span class="name">Boat <strong><%= self.model.get('boat').get('name') %></strong></span>
			</a>
		</div>

		<div class="grey-area details">
			<h1><%= name %></h1>
			<h4>Date</h4><p><%= self.dateParseToDisplayDate(date) %></p>
			<h4>Time</h4><p><%= self.departureTimeToDisplayTime(departureTime) %></p>
			<h4>Duration</h4><p><%= duration %> hour<%= duration == 1 ? '' : 's' %></p>
			<h4>Location</h4><p><%= self.getCityFromLocation(locationText) %></p>
			<h4>Available seats</h4><p><%= availableSeats %></p>
		</div>
		
		<div class="description white-area">
			<h6>DESCRIPTION</h6>
			<p><%= description %></p>
		</div>

		<% if( self.model.get('features').leisure.cruising || self.model.get('features').leisure.partying || self.model.get('features').leisure.sightseeing || self.model.get('features').leisure.other || self.model.get('features').fishing.flats || self.model.get('features').fishing.lake || self.model.get('features').fishing.offshore || self.model.get('features').fishing.recreational || self.model.get('features').fishing.other || self.model.get('features').fishing.equipment || self.model.get('features').fishing.equipmentItems.bait || self.model.get('features').fishing.equipmentItems.lines || self.model.get('features').fishing.equipmentItems.hooks || self.model.get('features').fishing.equipmentItems.lures || self.model.get('features').fishing.equipmentItems.nets || self.model.get('features').fishing.equipmentItems.rods || self.model.get('features').fishing.equipmentItems.sinkers || self.model.get('features').sports.snorkeling || self.model.get('features').sports.tubing || self.model.get('features').sports.wakeBoarding || self.model.get('features').sports.waterSkiing || self.model.get('features').sports.equipment || self.model.get('features').sports.equipmentItems.fins || self.model.get('features').sports.equipmentItems.helmets || self.model.get('features').sports.equipmentItems.masks || self.model.get('features').sports.equipmentItems.snorkels || self.model.get('features').sports.equipmentItems.towLine || self.model.get('features').sports.equipmentItems.tubes || self.model.get('features').sports.equipmentItems.wakeboard || self.model.get('features').sports.equipmentItems.waterSkis || self.model.get('features').global.children || self.model.get('features').global.smoking || self.model.get('features').global.drinking || self.model.get('features').global.pets || self.model.get('features').extras.food || self.model.get('features').extras.drink || self.model.get('features').extras.music || self.model.get('features').extras.towels || self.model.get('features').extras.sunscreen || self.model.get('features').extras.inflatables ) { %>
			<div class="grey-area boatday-features">
				<h6>FEATURES</h6>
				<div class="features">
					<% if( self.model.get('features').leisure.cruising ) { %>
						<p>Cruising</p>
					<% } %>
					<% if( self.model.get('features').leisure.partying ) { %>
						<p>Partying</p>
					<% } %>
					<% if( self.model.get('features').leisure.sightseeing ) { %>
						<p>Sightseeing</p>
					<% } %>
					<% if( self.model.get('features').leisure.other ) { %>
						<p>Other</p>
					<% } %>

					<% if( self.model.get('features').fishing.flats ) { %>
						<p>Flats</p>
					<% } %>
					<% if( self.model.get('features').fishing.lake ) { %>
						<p>Lake</p>
					<% } %>
					<% if( self.model.get('features').fishing.offshore ) { %>
						<p>Offshore</p>
					<% } %>
					<% if( self.model.get('features').fishing.recreational ) { %>
						<p>Recreational</p>
					<% } %>
					<% if( self.model.get('features').fishing.other ) { %>
						<p>Other</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipment ) { %>
						<p>Equipment</p>
					<% } %>

					<% if( self.model.get('features').fishing.equipmentItems.bait ) { %>
						<p>Bait</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.lines ) { %>
						<p>Lines</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.hooks ) { %>
						<p>Hooks</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.lures ) { %>
						<p>Lures</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.nets ) { %>
						<p>Nets</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.rods ) { %>
						<p>Rods</p>
					<% } %>
					<% if( self.model.get('features').fishing.equipmentItems.sinkers ) { %>
						<p>Sinkers</p>
					<% } %>

					<% if( self.model.get('features').sports.snorkeling ) { %>
						<p>Snorkeling</p>
					<% } %>
					<% if( self.model.get('features').sports.tubing ) { %>
						<p>Tubing</p>
					<% } %>
					<% if( self.model.get('features').sports.wakeBoarding ) { %>
						<p>Wake boarding</p>
					<% } %>
					<% if( self.model.get('features').sports.waterSkiing ) { %>
						<p>Water skiing</p>
					<% } %>
					<% if( self.model.get('features').sports.equipment ) { %>
						<p>Equipment</p>
					<% } %>

					<% if( self.model.get('features').sports.equipmentItems.fins ) { %>
						<p>Fins</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.helmets ) { %>
						<p>Helmets</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.masks ) { %>
						<p>Masks</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.snorkels ) { %>
						<p>Snorkels</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.towLine ) { %>
						<p>Tow line</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.tubes ) { %>
						<p>Tubes</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.wakeboard ) { %>
						<p>Wake Board</p>
					<% } %>
					<% if( self.model.get('features').sports.equipmentItems.waterSkis ) { %>
						<p>Water skis</p>
					<% } %>

					<% if( self.model.get('features').global.children ) { %>
						<p>Children</p>
					<% } %>
					<% if( self.model.get('features').global.smoking ) { %>
						<p>Smoking</p>
					<% } %>
					<% if( self.model.get('features').global.drinking ) { %>
						<p>Drinking</p>
					<% } %>
					<% if( self.model.get('features').global.pets ) { %>
						<p>Pets</p>
					<% } %>

					<% if( self.model.get('features').extras.food ) { %>
						<p>Food</p>
					<% } %>
					<% if( self.model.get('features').extras.drink ) { %>
						<p>Drink</p>
					<% } %>
					<% if( self.model.get('features').extras.music ) { %>
						<p>Music</p>
					<% } %>
					<% if( self.model.get('features').extras.towels ) { %>
						<p>Towels</p>
					<% } %>
					<% if( self.model.get('features').extras.sunscreen ) { %>
						<p>Sun screen</p>
					<% } %>
					<% if( self.model.get('features').extras.inflatables ) { %>
						<p>Inflatables</p>
					<% } %>
					<p class="empty"></p>
					<p class="empty"></p>
				</div>
			</div>
		<% } %>

		<div class="white-area guests">
			<h6>GUESTS ATTENDING</h6>
			<div class="list">

				<div class="guest empty"></div>
				<div class="guest empty"></div>
				<div class="guest empty"></div>
				<div class="guest empty"></div>
			</div>
		</div>

		<div class="white-area location">
			<% if( self.fromUpcoming ) { %>
				<div class="map" style="background-image:url(https://maps.googleapis.com/maps/api/staticmap?center=<%= self.model.get('location').latitude %>,<%= self.model.get('location').longitude %>&amp;zoom=13&amp;size=400x260)">
					<img src="resources/pin-<%= category %>.png" />
				</div>
				<h1>Start and end of trip</h1>
				<p class="name">
					<span class="icon bd-pin"></span>
					<%= locationText %>
				</p>
			<% } else { %>
				<div class="map" style="background-image:url(https://maps.googleapis.com/maps/api/staticmap?center=<%= self.model.get('location').latitude %>,<%= self.model.get('location').longitude %>&amp;zoom=11&amp;size=400x260)">
					<img src="resources/pin-circle.png" />
				</div>
				<h1>Start and end of trip</h1>
				<p class="name">
					<span class="icon bd-pin"></span>
					<%= self.getCityFromLocation(locationText) %>
				</p>
				<p class="detail">
					Exact address will be visible to confirmed guests.
				</p>
			<% } %>
		</div>

		<div class="sharing">
			<label>Let your friends know about this BoatDay!</label>
			<button class="share">Share on Facebook</button>
		</div>

		<div class="questions white-area">
			<h6>QUESTIONS</h6>
			<div class="questions-list"></div>
			<button class="ask">Ask the Host a question</button>
		</div>

		<div class="booking grey-area">
			<p class="price">
				$<%= self.getGuestPrice(price, self.getGuestRate(self.model.get('captain').get('host').get('type'))) %>
				<sub>/person</sub>
			</p>
			
			<p class="hint">
				Book now before the seats fill up!
			</p>
			
			<button class="cancellations">View cancellation policy</button>
			
			<% if( self.seatRequest ) { %>
				<button class="cancel"><%= self.seatRequest.get('status') == 'pending' ? 'Cancel Pending Request' : 'Cancel ' + self.seatRequest.get('seats') + ' Booked Seat' + ( self.seatRequest.get('seats') == 1 ? '' : 's') %></button>
			<% } %>

			<p class="policies">
				<a class="terms">Terms &amp; Conditions</a> and <a class="water">Watersports Policy</a>
			</p>
		</div>
	</div>
</main>

<% if( !self.seatRequest ) { %>
	<footer>
		<button class="btn-action book">Request to Book</button>
	</footer>
<% } %>